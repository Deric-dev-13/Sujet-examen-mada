<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icône Sujet | Fantastique</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <style>
        /* ============================
           VARIABLES
           ============================ */
        :root {
            --blue-deep: #020617;
            --blue-magic: #1e3a8a;
            --gold: #d4af37;
            --gold-light: #fbf5b7;
            --gold-gradient: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7);
            --sapphire-glow: #3b82f6;
        }

        body { margin: 0; padding: 0; background: #000; overflow: hidden; font-family: 'Cinzel', serif; }

        /* ============================
           ZONE DE CAPTURE
           ============================ */
        #capture-area {
            position: relative; width: 100vw; height: 100vh;
            /* Fond abstrait magique */
            background: radial-gradient(circle at center, #172554, #000);
            display: flex; justify-content: center; align-items: center;
        }

        /* ============================
           DESIGN DE L'ICÔNE (Le Carré)
           ============================ */
        .magic-icon {
            position: relative;
            width: 512px; height: 512px; /* Format Carré standard pour icônes */
            background: radial-gradient(circle at 50% 30%, #1e40af, #0f172a);
            border-radius: 80px; /* Coins arrondis (Squircle) */
            box-shadow: 
                0 0 0 8px #0f172a, /* Bordure sombre */
                0 0 0 12px var(--gold), /* Bordure Or */
                0 20px 50px rgba(0,0,0,0.8), /* Ombre portée */
                0 0 80px rgba(59, 130, 246, 0.4); /* Lueur bleue externe */
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            overflow: hidden;
            border: 4px solid var(--gold);
        }

        /* Texture cuir bleu */
        .texture {
            position: absolute; top:0; left:0; width:100%; height:100%;
            background: url('https://www.transparenttextures.com/patterns/black-scales.png');
            opacity: 0.3; mix-blend-mode: multiply;
        }

        /* --- Ornements --- */
        .inner-frame {
            position: absolute; top: 20px; left: 20px; right: 20px; bottom: 20px;
            border: 2px dashed var(--gold);
            border-radius: 60px;
            opacity: 0.5; pointer-events: none;
        }

        /* Coins Ornements */
        .corner-ornament {
            position: absolute; width: 80px; height: 80px;
            background: var(--gold-gradient);
            mask-image: url('https://www.transparenttextures.com/patterns/black-orchid.png');
            -webkit-mask-image: url('https://www.transparenttextures.com/patterns/black-orchid.png');
            mask-size: cover;
            z-index: 2;
        }
        .co-tl { top: 15px; left: 15px; }
        .co-tr { top: 15px; right: 15px; transform: scaleX(-1); }
        .co-bl { bottom: 15px; left: 15px; transform: scaleY(-1); }
        .co-br { bottom: 15px; right: 15px; transform: scale(-1); }

        /* Saphirs aux coins */
        .sapphire {
            position: absolute; width: 24px; height: 24px;
            background: radial-gradient(circle at 30% 30%, #fff, #2563eb, #000);
            border: 2px solid var(--gold); border-radius: 50%; z-index: 5;
            box-shadow: 0 0 10px #2563eb;
        }
        .s-tl { top: 30px; left: 30px; } .s-tr { top: 30px; right: 30px; }
        .s-bl { bottom: 30px; left: 30px; } .s-br { bottom: 30px; right: 30px; }

        /* --- Contenu Central --- */
        
        /* Cercle Magique Arrière Plan */
        .arcane-circle {
            position: absolute; width: 350px; height: 350px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            animation: rotate 20s linear infinite;
        }
        .arcane-circle::before {
            content: ''; position: absolute; width: 80%; height: 80%;
            border: 1px solid rgba(212, 175, 55, 0.2); transform: rotate(45deg);
        }
        .arcane-circle::after {
            content: ''; position: absolute; width: 100%; height: 100%;
            border: 2px dotted rgba(212, 175, 55, 0.4); border-radius: 50%;
        }

        /* Symbole ? */
        .question-mark {
            font-size: 40px; font-weight: 900;
            background: var(--gold-gradient); -webkit-background-clip: text; color: transparent;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.8));
            z-index: 10;
            position: relative; top: -20px;
        }

        /* Texte SUJET */
        .title-text {
            font-size: 30px; font-weight: bold;
            color: var(--gold-light);
            text-shadow: 0 4px 0 #8a6e2f, 0 10px 10px rgba(0,0,0,0.5);
            letter-spacing: 5px;
            z-index: 10;
            margin-top: -10px;
            margin-left: %;
            background: linear-gradient(to bottom, #fff, #d4af37);
            -webkit-background-clip: text; color: transparent;
        }

        /* Icône Livre petite */
        .small-icon {
            font-size: 20px; color: var(--gold); margin-top: 10px;
            filter: drop-shadow(0 0 10px var(--sapphire-glow));
            z-index: 10;
            margin-left: %;
        }

        /* --- Effets --- */
        .glow-spot {
            position: absolute; width: 200px; height: 200px;
            background: var(--sapphire-glow); opacity: 0.3;
            filter: blur(60px); z-index: 1;
        }

        @keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* BOUTONS */
        .controls { position: fixed; top: 20px; right: 20px; z-index: 9999; display: flex; gap: 10px; }
        .btn { background: rgba(0,0,0,0.8); border: 1px solid var(--gold); color: var(--gold); padding: 10px 20px; cursor: pointer; font-weight: bold; border-radius: 5px; text-transform: uppercase; font-family: 'Cinzel'; }
        .btn:hover { background: var(--gold); color: #fff; }

    </style>
</head>
<body>

   <!-- <div class="controls">
        <button class="btn" onclick="download('png')">PNG (Transparent)</button>
        <button class="btn" onclick="download('jpeg')">JPG</button>
    </div>-->

    <div id="capture-area">
        
        <div class="magic-icon" id="icon-target">
            <!-- Texture -->
            <div class="texture"></div>
            <div class="glow-spot"></div>

            <!-- Décorations -->
            <div class="inner-frame"></div>
            <div class="corner-ornament co-tl"></div><div class="corner-ornament co-tr"></div>
            <div class="corner-ornament co-bl"></div><div class="corner-ornament co-br"></div>
            <div class="sapphire s-tl"></div><div class="sapphire s-tr"></div>
            <div class="sapphire s-bl"></div><div class="sapphire s-br"></div>

            <!-- Cercle Magique -->
            <div class="arcane-circle"></div>

            <!-- Contenu -->
            <div class="question-mark">Veuillez</div>
            <div class="title-text">revenir</div></br>
            <div class="small-icon"> plus tard.</br></br><i class="fas fa-scroll">...Merci...<i class="fas fa-scroll"></i></div>
            
        </div>

    </div>

    <script>
        function download(type) {
            // On capture uniquement l'icône (.magic-icon), pas tout l'écran, pour avoir une icône propre
            const element = document.getElementById('icon-target');
            const btn = document.querySelector('.controls');
            
            // Pour le PNG, on veut la transparence autour des coins arrondis
            const options = {
                scale: 2, // Haute résolution (1024x1024)
                backgroundColor: null, // Transparent
                useCORS: true
            };

            btn.style.display = 'none';

            html2canvas(element, options).then(canvas => {
                const link = document.createElement('a');
                link.download = `Icone_Sujet_Fantastique.${type}`;
                link.href = canvas.toDataURL(`image/${type}`);
                link.click();
                btn.style.display = 'flex';
            });
        }
    </script>

</body>
</html>
